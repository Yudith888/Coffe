<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Caf√© Elegante - Cat√°logo de Productos</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style id="app-style">
      :root {
        --color-bg-dark: #121212;
        --color-bg-card: #1e1e1e;
        --color-accent: #c8a27c;
        --color-text: #f5f5f5;
        --color-text-muted: #a0a0a0;
      }
      
      body {
        font-family: 'Poppins', sans-serif;
        background-color: var(--color-bg-dark);
        color: var(--color-text);
        min-height: 100vh;
      }
      
      h1, h2, h3, h4 {
        font-family: 'Playfair Display', serif;
      }
      
      .header-brand {
        font-family: 'Playfair Display', serif;
        font-weight: 700;
        letter-spacing: 1px;
      }
      
      .product-card {
        background-color: var(--color-bg-card);
        border-radius: 8px;
        overflow: hidden;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }
      
      .product-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
      }
      
      .product-image {
        height: 180px;
        overflow: hidden;
      }
      
      .product-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.5s ease;
      }
      
      .product-card:hover .product-image img {
        transform: scale(1.05);
      }
      
      .category-filter {
        cursor: pointer;
        transition: all 0.2s ease;
      }
      
      .category-filter.active {
        background-color: var(--color-accent);
        color: var(--color-bg-dark);
      }
      
      .search-container {
        backdrop-filter: blur(8px);
        background-color: rgba(18, 18, 18, 0.8);
      }
      
      .search-input {
        background-color: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
        color: var(--color-text);
      }
      
      .search-input:focus {
        border-color: var(--color-accent);
        outline: none;
      }
      
      .mobile-filter-toggle {
        background-color: var(--color-accent);
        color: var(--color-bg-dark);
      }
      
      @media (max-width: 768px) {
        .product-grid {
          grid-template-columns: repeat(1, 1fr);
        }
        
        .product-image {
          height: 160px;
        }
        
        .filter-sidebar {
          position: fixed;
          left: -100%;
          top: 0;
          height: 100%;
          z-index: 50;
          transition: left 0.3s ease;
        }
        
        .filter-sidebar.open {
          left: 0;
        }
      }
      
      @media (min-width: 640px) {
        .product-grid {
          grid-template-columns: repeat(2, 1fr);
        }
      }
      
      @media (min-width: 1024px) {
        .product-grid {
          grid-template-columns: repeat(3, 1fr);
        }
      }
      
      @media (min-width: 1280px) {
        .product-grid {
          grid-template-columns: repeat(4, 1fr);
        }
      }
      
      .no-results {
        text-align: center;
        grid-column: 1 / -1;
        padding: 3rem 0;
      }
    </style>
  </head>
  <body class="bg-gray-900">
    <!-- Header -->
    <header class="py-4 border-b border-gray-800">
      <div class="container mx-auto px-4 flex justify-between items-center">
        <h1 class="header-brand text-2xl text-amber-300">Caf√© Elegante</h1>
        <button id="mobile-filter-btn" class="mobile-filter-toggle md:hidden px-3 py-1 rounded-md">
          <i class="fas fa-filter mr-1"></i> Filtros
        </button>
      </div>
    </header>

    <!-- Search Bar (Fixed) -->
    <div class="search-container sticky top-0 z-40 py-3 px-4 border-b border-gray-800">
      <div class="container mx-auto">
        <div class="relative">
          <input type="text" id="search-input" class="search-input w-full py-2 px-4 pr-10 rounded-lg" placeholder="Buscar productos...">
          <i class="fas fa-search absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
        </div>
      </div>
    </div>

    <div class="container mx-auto px-4 py-6">
      <div class="flex flex-col md:flex-row gap-6">
        <!-- Filter Sidebar -->
        <aside id="filter-sidebar" class="filter-sidebar bg-gray-900 md:static w-64 md:w-auto p-5 md:p-0">
          <div class="md:hidden flex justify-between items-center mb-4">
            <h3 class="text-lg font-semibold">Filtros</h3>
            <button id="close-filter-btn" class="text-gray-400 hover:text-white">
              <i class="fas fa-times"></i>
            </button>
          </div>
          
          <div class="sticky top-20">
            <h3 class="text-lg font-semibold mb-3 text-amber-300">Categor√≠as</h3>
            <div class="space-y-2">
              <div class="category-filter active px-3 py-2 rounded-md" data-category="todos">
                <i class="fas fa-th-large mr-2"></i> Todos los productos
              </div>
              <div class="category-filter px-3 py-2 rounded-md" data-category="cafes-calientes">
                <i class="fas fa-mug-hot mr-2"></i> Caf√©s calientes
              </div>
              <div class="category-filter px-3 py-2 rounded-md" data-category="bebidas-frias">
                <i class="fas fa-glass-whiskey mr-2"></i> Bebidas fr√≠as
              </div>
              <div class="category-filter px-3 py-2 rounded-md" data-category="reposteria">
                <i class="fas fa-cookie mr-2"></i> Reposter√≠a
              </div>
            </div>
          </div>
        </aside>

        <!-- Product Grid -->
        <div class="flex-1">
          <h2 class="text-2xl font-semibold mb-6 text-white">Nuestros Productos</h2>
          <div id="products-grid" class="product-grid grid gap-6">
            <!-- Products will be populated here via JavaScript -->
          </div>
        </div>
      </div>
    </div>

    <footer class="mt-12 py-6 border-t border-gray-800 text-center text-gray-400">
      <div class="container mx-auto">
        <p>¬© 2025 Caf√© Elegante. Todos los derechos reservados.</p>
      </div>
    </footer>

    <script id="app-script">
      // Product catalog with added categories and images
      const CatalogoProductos = [
        { 
          nombre: "‚òï Caf√© Americano", 
          precio: "$5.000", 
          categoria: "cafes-calientes",
          imagen: "https://cdn.pixabay.com/photo/2017/09/04/18/39/coffee-2714970_1280.jpg"
        },
        { 
          nombre: "üçµ Capuchino", 
          precio: "$6.500", 
          categoria: "cafes-calientes",
          imagen: "https://cdn.pixabay.com/photo/2016/11/29/02/10/caffeine-1866758_1280.jpg"
        },
        { 
          nombre: "ü•§ Latte", 
          precio: "$6.000", 
          categoria: "cafes-calientes",
          imagen: "https://cdn.pixabay.com/photo/2016/11/29/12/45/cafe-1869598_1280.jpg"
        },
        { 
          nombre: "üç´ Mocaccino", 
          precio: "$7.000", 
          categoria: "cafes-calientes",
          imagen: "https://cdn.pixabay.com/photo/2017/01/12/14/22/coffee-1974841_1280.jpg"
        },
        { 
          nombre: "ü•ê Croissant", 
          precio: "$4.000", 
          categoria: "reposteria",
          imagen: "https://cdn.pixabay.com/photo/2016/03/27/21/59/bread-1284438_1280.jpg"
        },
        { 
          nombre: "üç™ Galletas Artesanales", 
          precio: "$3.500", 
          categoria: "reposteria",
          imagen: "https://cdn.pixabay.com/photo/2016/11/19/15/49/cookies-1839678_1280.jpg"
        },
        { 
          nombre: "üçØ Caf√© con Miel", 
          precio: "$6.800", 
          categoria: "cafes-calientes",
          imagen: "https://cdn.pixabay.com/photo/2016/11/29/13/04/beverage-1869716_1280.jpg"
        },
        { 
          nombre: "ü•õ Caf√© con Leche", 
          precio: "$5.500", 
          categoria: "cafes-calientes",
          imagen: "https://cdn.pixabay.com/photo/2016/11/29/12/45/beverage-1869600_1280.jpg"
        },
        { 
          nombre: "üç® Affogato (Caf√© + Helado)", 
          precio: "$8.000", 
          categoria: "bebidas-frias",
          imagen: "https://cdn.pixabay.com/photo/2019/05/29/20/46/coffee-4237931_1280.jpg"
        },
        { 
          nombre: "üçπ Cold Brew", 
          precio: "$7.500", 
          categoria: "bebidas-frias",
          imagen: "https://cdn.pixabay.com/photo/2017/08/07/22/57/coffee-2608864_1280.jpg"
        },
        { 
          nombre: "üçµ Matcha Latte", 
          precio: "$8.500", 
          categoria: "bebidas-frias",
          imagen: "https://cdn.pixabay.com/photo/2016/11/29/13/04/beverage-1869722_1280.jpg"
        },
        { 
          nombre: "üç´ Chocolate Caliente", 
          precio: "$6.000", 
          categoria: "cafes-calientes",
          imagen: "https://cdn.pixabay.com/photo/2017/01/16/17/45/coffee-1984654_1280.jpg"
        }
      ];

      // State management
      let currentState = {
        searchTerm: '',
        activeCategories: ['todos']
      };

      // Try to load state from localStorage if available
      try {
        const savedState = localStorage.getItem('cafeEleganteState');
        if (savedState) {
          currentState = JSON.parse(savedState);
        }
      } catch(e) {
        console.error("Error loading state from localStorage:", e);
      }

      // Save state to localStorage
      function saveState() {
        try {
          localStorage.setItem('cafeEleganteState', JSON.stringify(currentState));
        } catch(e) {
          console.error("Error saving state to localStorage:", e);
        }
      }

      // Filter products based on search term and active categories
      function filterProducts() {
        const searchTerm = currentState.searchTerm.toLowerCase();
        const activeCategories = currentState.activeCategories;
        
        return CatalogoProductos.filter(product => {
          const nameMatch = product.nombre.toLowerCase().includes(searchTerm);
          const categoryMatch = activeCategories.includes('todos') || activeCategories.includes(product.categoria);
          
          return nameMatch && categoryMatch;
        });
      }

      // Render products to the grid
      function renderProducts() {
        const productsGrid = document.getElementById('products-grid');
        const filteredProducts = filterProducts();
        
        // Clear the grid
        productsGrid.innerHTML = '';
        
        if (filteredProducts.length === 0) {
          productsGrid.innerHTML = `
            <div class="no-results">
              <i class="fas fa-search fa-3x mb-4 text-gray-600"></i>
              <h3 class="text-xl font-medium text-gray-300">No se encontraron productos</h3>
              <p class="text-gray-500 mt-2">Intente con otros t√©rminos de b√∫squeda o filtros</p>
            </div>
          `;
          return;
        }
        
        // Populate with filtered products
        filteredProducts.forEach(product => {
          const productCard = document.createElement('div');
          productCard.className = 'product-card';
          productCard.innerHTML = `
            <div class="product-image">
              <img src="${product.imagen}" alt="${product.nombre}">
            </div>
            <div class="p-4">
              <h3 class="text-lg font-medium">${product.nombre}</h3>
              <div class="flex justify-between items-center mt-2">
                <span class="text-amber-400 font-semibold">${product.precio}</span>
                <span class="text-xs px-2 py-1 rounded-full bg-gray-800 text-gray-300">${getCategoryLabel(product.categoria)}</span>
              </div>
            </div>
          `;
          productsGrid.appendChild(productCard);
        });
      }

      // Get user-friendly category label
      function getCategoryLabel(categoryId) {
        const categories = {
          'cafes-calientes': 'Caf√© Caliente',
          'bebidas-frias': 'Bebida Fr√≠a',
          'reposteria': 'Reposter√≠a'
        };
        return categories[categoryId] || categoryId;
      }

      // Initialize the UI based on current state
      function initUI() {
        // Set search input value
        document.getElementById('search-input').value = currentState.searchTerm;
        
        // Set active category buttons
        document.querySelectorAll('.category-filter').forEach(btn => {
          const category = btn.dataset.category;
          if (currentState.activeCategories.includes(category)) {
            btn.classList.add('active');
          } else {
            btn.classList.remove('active');
          }
        });
        
        // Render products
        renderProducts();
      }

      // Event Listeners
      document.addEventListener('DOMContentLoaded', () => {
        // Search functionality
        const searchInput = document.getElementById('search-input');
        searchInput.addEventListener('input', (e) => {
          currentState.searchTerm = e.target.value;
          saveState();
          renderProducts();
        });
        
        // Category filters
        document.querySelectorAll('.category-filter').forEach(btn => {
          btn.addEventListener('click', () => {
            const category = btn.dataset.category;
            
            if (category === 'todos') {
              // If "todos" is clicked, make it the only active category
              currentState.activeCategories = ['todos'];
              document.querySelectorAll('.category-filter').forEach(b => {
                b.classList.remove('active');
              });
              btn.classList.add('active');
            } else {
              // Remove "todos" from active categories
              const todosIndex = currentState.activeCategories.indexOf('todos');
              if (todosIndex > -1) {
                currentState.activeCategories.splice(todosIndex, 1);
                document.querySelector('.category-filter[data-category="todos"]').classList.remove('active');
              }
              
              // Toggle the clicked category
              const index = currentState.activeCategories.indexOf(category);
              if (index > -1) {
                // If no categories would be left active, reactivate "todos"
                if (currentState.activeCategories.length === 1) {
                  currentState.activeCategories = ['todos'];
                  document.querySelectorAll('.category-filter').forEach(b => {
                    b.classList.remove('active');
                  });
                  document.querySelector('.category-filter[data-category="todos"]').classList.add('active');
                } else {
                  // Remove this category
                  currentState.activeCategories.splice(index, 1);
                  btn.classList.remove('active');
                }
              } else {
                // Add this category
                currentState.activeCategories.push(category);
                btn.classList.add('active');
              }
            }
            
            saveState();
            renderProducts();
          });
        });
        
        // Mobile filter menu
        const mobileFilterBtn = document.getElementById('mobile-filter-btn');
        const closeFilterBtn = document.getElementById('close-filter-btn');
        const filterSidebar = document.getElementById('filter-sidebar');
        
        mobileFilterBtn.addEventListener('click', () => {
          filterSidebar.classList.add('open');
        });
        
        closeFilterBtn.addEventListener('click', () => {
          filterSidebar.classList.remove('open');
        });
        
        // Initialize the UI
        initUI();
      });
    </script>
  </body>
</html>